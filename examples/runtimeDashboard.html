<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://grafana.github.io/grafonnet/examples/runtimeDashboard.html><link rel=prev href=../API/query/testData.html><link rel=next href=simple.html><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.17"><title>Controller Runtime dashboard - Grafonnet</title><link rel=stylesheet href=../assets/stylesheets/main.26e3688c.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=deep-orange> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#controller-runtime-dashboard class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../index.html title=Grafonnet class="md-header__button md-logo" aria-label=Grafonnet data-md-component=logo> <img src=../assets/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Grafonnet </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Controller Runtime dashboard </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=deep-orange aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=deep-orange aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/grafana/grafonnet title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> grafana/grafonnet </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../index.html class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../API/index.html class=md-tabs__link> API </a> </li> <li class=md-tabs__item> <a href=runtimeDashboard.html class="md-tabs__link md-tabs__link--active"> Examples </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../index.html title=Grafonnet class="md-nav__button md-logo" aria-label=Grafonnet data-md-component=logo> <img src=../assets/logo.svg alt=logo> </a> Grafonnet </label> <div class=md-nav__source> <a href=https://github.com/grafana/grafonnet title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> grafana/grafonnet </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../index.html class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__link--index "> <a href=../API/index.html>API</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/librarypanel.html class=md-nav__link> librarypanel </a> </li> <li class=md-nav__item> <a href=../API/playlist.html class=md-nav__link> playlist </a> </li> <li class=md-nav__item> <a href=../API/preferences.html class=md-nav__link> preferences </a> </li> <li class=md-nav__item> <a href=../API/publicdashboard.html class=md-nav__link> publicdashboard </a> </li> <li class=md-nav__item> <a href=../API/serviceaccount.html class=md-nav__link> serviceaccount </a> </li> <li class=md-nav__item> <a href=../API/team.html class=md-nav__link> team </a> </li> <li class=md-nav__item> <a href=../API/util.html class=md-nav__link> util </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_9> <div class="md-nav__link md-nav__link--index "> <a href=../API/dashboard/index.html>Dashboard</a> <label for=__nav_2_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_9_label aria-expanded=false> <label class=md-nav__title for=__nav_2_9> <span class="md-nav__icon md-icon"></span> Dashboard </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/dashboard/annotation.html class=md-nav__link> annotation </a> </li> <li class=md-nav__item> <a href=../API/dashboard/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/dashboard/variable.html class=md-nav__link> variable </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/index.html>Panel</a> <label for=__nav_2_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_10_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10> <span class="md-nav__icon md-icon"></span> Panel </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/row.html class=md-nav__link> row </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_3> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/alertGroups/index.html>alertGroups</a> <label for=__nav_2_10_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_3> <span class="md-nav__icon md-icon"></span> alertGroups </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/alertGroups/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/alertGroups/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/alertGroups/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/alertGroups/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/alertGroups/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_4> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/annotationsList/index.html>annotationsList</a> <label for=__nav_2_10_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_4> <span class="md-nav__icon md-icon"></span> annotationsList </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/annotationsList/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/annotationsList/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/annotationsList/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/annotationsList/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/annotationsList/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_5> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/barChart/index.html>barChart</a> <label for=__nav_2_10_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_5> <span class="md-nav__icon md-icon"></span> barChart </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/barChart/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/barChart/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/barChart/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/barChart/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/barChart/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_6> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/barGauge/index.html>barGauge</a> <label for=__nav_2_10_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_6> <span class="md-nav__icon md-icon"></span> barGauge </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/barGauge/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/barGauge/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/barGauge/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/barGauge/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/barGauge/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_7> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/candlestick/index.html>Candlestick</a> <label for=__nav_2_10_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_7> <span class="md-nav__icon md-icon"></span> Candlestick </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/candlestick/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/candlestick/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/candlestick/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/candlestick/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/candlestick/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_8> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/canvas/index.html>Canvas</a> <label for=__nav_2_10_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_8_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_8> <span class="md-nav__icon md-icon"></span> Canvas </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/canvas/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/canvas/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/canvas/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/canvas/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/canvas/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_9> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/dashboardList/index.html>dashboardList</a> <label for=__nav_2_10_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_9_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_9> <span class="md-nav__icon md-icon"></span> dashboardList </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/dashboardList/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/dashboardList/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/dashboardList/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/dashboardList/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/dashboardList/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_10> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/datagrid/index.html>Datagrid</a> <label for=__nav_2_10_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_10_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_10> <span class="md-nav__icon md-icon"></span> Datagrid </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/datagrid/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/datagrid/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/datagrid/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/datagrid/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/datagrid/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_11> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/debug/index.html>Debug</a> <label for=__nav_2_10_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_11_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_11> <span class="md-nav__icon md-icon"></span> Debug </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/debug/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/debug/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/debug/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/debug/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/debug/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_12> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/gauge/index.html>Gauge</a> <label for=__nav_2_10_12> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_12_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_12> <span class="md-nav__icon md-icon"></span> Gauge </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/gauge/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/gauge/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/gauge/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/gauge/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/gauge/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_13> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/geomap/index.html>Geomap</a> <label for=__nav_2_10_13> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_13_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_13> <span class="md-nav__icon md-icon"></span> Geomap </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/geomap/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/geomap/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/geomap/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/geomap/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/geomap/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_14> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/heatmap/index.html>Heatmap</a> <label for=__nav_2_10_14> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_14_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_14> <span class="md-nav__icon md-icon"></span> Heatmap </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/heatmap/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/heatmap/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/heatmap/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/heatmap/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/heatmap/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_15> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/histogram/index.html>Histogram</a> <label for=__nav_2_10_15> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_15_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_15> <span class="md-nav__icon md-icon"></span> Histogram </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/histogram/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/histogram/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/histogram/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/histogram/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/histogram/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_16> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/logs/index.html>Logs</a> <label for=__nav_2_10_16> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_16_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_16> <span class="md-nav__icon md-icon"></span> Logs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/logs/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/logs/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/logs/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/logs/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/logs/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_17> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/news/index.html>News</a> <label for=__nav_2_10_17> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_17_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_17> <span class="md-nav__icon md-icon"></span> News </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/news/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/news/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/news/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/news/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/news/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_18> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/nodeGraph/index.html>nodeGraph</a> <label for=__nav_2_10_18> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_18_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_18> <span class="md-nav__icon md-icon"></span> nodeGraph </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/nodeGraph/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/nodeGraph/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/nodeGraph/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/nodeGraph/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/nodeGraph/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_19> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/pieChart/index.html>pieChart</a> <label for=__nav_2_10_19> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_19_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_19> <span class="md-nav__icon md-icon"></span> pieChart </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/pieChart/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/pieChart/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/pieChart/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/pieChart/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/pieChart/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_20> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/stat/index.html>Stat</a> <label for=__nav_2_10_20> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_20_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_20> <span class="md-nav__icon md-icon"></span> Stat </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/stat/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/stat/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/stat/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/stat/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/stat/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_21> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/stateTimeline/index.html>stateTimeline</a> <label for=__nav_2_10_21> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_21_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_21> <span class="md-nav__icon md-icon"></span> stateTimeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/stateTimeline/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/stateTimeline/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/stateTimeline/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/stateTimeline/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/stateTimeline/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_22> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/statusHistory/index.html>statusHistory</a> <label for=__nav_2_10_22> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_22_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_22> <span class="md-nav__icon md-icon"></span> statusHistory </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/statusHistory/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/statusHistory/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/statusHistory/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/statusHistory/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/statusHistory/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_23> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/table/index.html>Table</a> <label for=__nav_2_10_23> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_23_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_23> <span class="md-nav__icon md-icon"></span> Table </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/table/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/table/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/table/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/table/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/table/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_24> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/text/index.html>Text</a> <label for=__nav_2_10_24> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_24_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_24> <span class="md-nav__icon md-icon"></span> Text </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/text/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/text/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/text/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/text/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/text/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_25> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/timeSeries/index.html>timeSeries</a> <label for=__nav_2_10_25> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_25_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_25> <span class="md-nav__icon md-icon"></span> timeSeries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/timeSeries/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/timeSeries/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/timeSeries/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/timeSeries/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/timeSeries/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_26> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/trend/index.html>Trend</a> <label for=__nav_2_10_26> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_26_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_26> <span class="md-nav__icon md-icon"></span> Trend </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/trend/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/trend/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/trend/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/trend/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/trend/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10_27> <div class="md-nav__link md-nav__link--index "> <a href=../API/panel/xyChart/index.html>xyChart</a> <label for=__nav_2_10_27> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_10_27_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10_27> <span class="md-nav__icon md-icon"></span> xyChart </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/panel/xyChart/fieldOverride.html class=md-nav__link> fieldOverride </a> </li> <li class=md-nav__item> <a href=../API/panel/xyChart/link.html class=md-nav__link> link </a> </li> <li class=md-nav__item> <a href=../API/panel/xyChart/thresholdStep.html class=md-nav__link> thresholdStep </a> </li> <li class=md-nav__item> <a href=../API/panel/xyChart/transformation.html class=md-nav__link> transformation </a> </li> <li class=md-nav__item> <a href=../API/panel/xyChart/valueMapping.html class=md-nav__link> valueMapping </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_11> <div class="md-nav__link md-nav__link--index "> <a href=../API/query/index.html>Query</a> <label for=__nav_2_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_11_label aria-expanded=false> <label class=md-nav__title for=__nav_2_11> <span class="md-nav__icon md-icon"></span> Query </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../API/query/azureMonitor.html class=md-nav__link> azureMonitor </a> </li> <li class=md-nav__item> <a href=../API/query/cloudWatch.html class=md-nav__link> cloudWatch </a> </li> <li class=md-nav__item> <a href=../API/query/elasticsearch.html class=md-nav__link> elasticsearch </a> </li> <li class=md-nav__item> <a href=../API/query/grafanaPyroscope.html class=md-nav__link> grafanaPyroscope </a> </li> <li class=md-nav__item> <a href=../API/query/loki.html class=md-nav__link> loki </a> </li> <li class=md-nav__item> <a href=../API/query/parca.html class=md-nav__link> parca </a> </li> <li class=md-nav__item> <a href=../API/query/prometheus.html class=md-nav__link> prometheus </a> </li> <li class=md-nav__item> <a href=../API/query/tempo.html class=md-nav__link> tempo </a> </li> <li class=md-nav__item> <a href=../API/query/testData.html class=md-nav__link> testData </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Examples <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Controller Runtime dashboard <span class="md-nav__icon md-icon"></span> </label> <a href=runtimeDashboard.html class="md-nav__link md-nav__link--active"> Controller Runtime dashboard </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#panels class=md-nav__link> Panels </a> <nav class=md-nav aria-label=Panels> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rows-and-grid class=md-nav__link> Rows and Grid </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#queries class=md-nav__link> Queries </a> </li> <li class=md-nav__item> <a href=#variables class=md-nav__link> Variables </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=simple.html class=md-nav__link> Simple dashboard </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#panels class=md-nav__link> Panels </a> <nav class=md-nav aria-label=Panels> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rows-and-grid class=md-nav__link> Rows and Grid </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#queries class=md-nav__link> Queries </a> </li> <li class=md-nav__item> <a href=#variables class=md-nav__link> Variables </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=controller-runtime-dashboard>Controller Runtime dashboard</h1> <p>The <a href=https://github.com/grafana/grafonnet/blob/master/examples/runtimeDashboard>controller runtime dashboard</a> example shows how to compose a dashboard from reusable components. There are separate definitions of panels, variables and queries. The queries are combined with the panels and then the panels are grouped into rows. Eventually the panels and rows are rendered into a grid. Let's break it down.</p> <p>Similarly to the simple dashboard, Grafonnet is imported through <code>g.libsonnet</code> and <code>row</code> becomes a shortcut for the row panel. Additionally the panels, variables and queries get imported.</p> <div class=highlight><pre><span></span><code><span class=k>local</span><span class=w> </span><span class=nv>g</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>import</span><span class=w> </span><span class=s>&#39;g.libsonnet&#39;</span><span class=p>;</span>

<span class=k>local</span><span class=w> </span><span class=nv>row</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>panel</span><span class=p>.</span><span class=nv>row</span><span class=p>;</span>

<span class=k>local</span><span class=w> </span><span class=nv>panels</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>import</span><span class=w> </span><span class=s>&#39;./panels.libsonnet&#39;</span><span class=p>;</span>
<span class=k>local</span><span class=w> </span><span class=nv>variables</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>import</span><span class=w> </span><span class=s>&#39;./variables.libsonnet&#39;</span><span class=p>;</span>
<span class=k>local</span><span class=w> </span><span class=nv>queries</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>import</span><span class=w> </span><span class=s>&#39;./queries.libsonnet&#39;</span><span class=p>;</span>
</code></pre></div> <p>The dashboard gets initialized with a title and description. The tooltip is configured to share a crosshair and tooltip on all panels.</p> <div class=highlight><pre><span></span><code><span class=nv>g</span><span class=p>.</span><span class=nv>dashboard</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s>&#39;Controller Runtime&#39;</span><span class=p>)</span>
<span class=o>+</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>dashboard</span><span class=p>.</span><span class=nf>withDescription</span><span class=p>(</span><span class=s>|||</span>
<span class=s>  Generic dashboard for controller-runtime based processes</span>
<span class=s>  (https://github.com/kubernetes-sigs/controller-runtime)</span>
<span class=s>|||</span><span class=p>)</span>
<span class=o>+</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>dashboard</span><span class=p>.</span><span class=nv>graphTooltip</span><span class=p>.</span><span class=nf>withSharedCrosshair</span><span class=p>()</span>
</code></pre></div> <p>The variables get added to provide dropdowns for selecting the datasource, cluster, namespace and job values.</p> <div class=highlight><pre><span></span><code><span class=o>+</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>dashboard</span><span class=p>.</span><span class=nf>withVariables</span><span class=p>([</span>
<span class=w>  </span><span class=nv>variables</span><span class=p>.</span><span class=nv>datasource</span><span class=p>,</span>
<span class=w>  </span><span class=nv>variables</span><span class=p>.</span><span class=nv>cluster</span><span class=p>,</span>
<span class=w>  </span><span class=nv>variables</span><span class=p>.</span><span class=nv>namespace</span><span class=p>,</span>
<span class=w>  </span><span class=nv>variables</span><span class=p>.</span><span class=nv>job</span><span class=p>,</span>
<span class=p>])</span>
</code></pre></div> <p>And eventually add the panels.</p> <div class=highlight><pre><span></span><code><span class=o>+</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>dashboard</span><span class=p>.</span><span class=nf>withPanels</span><span class=p>(</span><span class=w> </span><span class=c>/* ... */</span><span class=w> </span><span class=p>)</span>
</code></pre></div> <h2 id=panels>Panels</h2> <p>The panels are defined separately from the queries, this turns them into reusable components. A panels can be called with a title and query. Let's take the 'Threads' panel as an example.</p> <div class=highlight><pre><span></span><code><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>seconds</span><span class=p>(</span><span class=s>&#39;GC Duration Mean&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>gcDuration</span><span class=p>)</span><span class=err>,</span>
</code></pre></div> <p>The 'Threads' panels uses the <code>base</code> timeSeries panel. Reusing the same panel definition for this and other panels increases consistency. The shortcuts for <code>fieldOverride</code> etc. are intended to make the code more concise.</p> <div class=highlight><pre><span></span><code><span class=c1>// from panels.libsonnet</span>
<span class=k>local</span><span class=w> </span><span class=nv>g</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>import</span><span class=w> </span><span class=s>&#39;g.libsonnet&#39;</span><span class=p>;</span>

<span class=p>{</span>
<span class=w>  </span><span class=nv>timeseries</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>local</span><span class=w> </span><span class=nv>timeSeries</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>panel</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>,</span>
<span class=w>    </span><span class=k>local</span><span class=w> </span><span class=nv>fieldOverride</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>panel</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nv>fieldOverride</span><span class=p>,</span>
<span class=w>    </span><span class=k>local</span><span class=w> </span><span class=nv>custom</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nv>timeSeries</span><span class=p>.</span><span class=nv>fieldConfig</span><span class=p>.</span><span class=nv>defaults</span><span class=p>.</span><span class=nv>custom</span><span class=p>,</span>
<span class=w>    </span><span class=k>local</span><span class=w> </span><span class=nv>options</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nv>timeSeries</span><span class=p>.</span><span class=nv>options</span><span class=p>,</span>

<span class=w>    </span><span class=nf>base</span><span class=p>(</span><span class=nv>title</span><span class=p>,</span><span class=w> </span><span class=nv>targets</span><span class=p>):</span>
<span class=w>      </span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=nv>title</span><span class=p>)</span>
<span class=w>      </span><span class=o>+</span><span class=w> </span><span class=nv>timeSeries</span><span class=p>.</span><span class=nv>queryOptions</span><span class=p>.</span><span class=nf>withTargets</span><span class=p>(</span><span class=nv>targets</span><span class=p>)</span>
<span class=w>      </span><span class=o>+</span><span class=w> </span><span class=nv>timeSeries</span><span class=p>.</span><span class=nv>queryOptions</span><span class=p>.</span><span class=nf>withInterval</span><span class=p>(</span><span class=s>&#39;1m&#39;</span><span class=p>)</span>
<span class=w>      </span><span class=o>+</span><span class=w> </span><span class=nv>options</span><span class=p>.</span><span class=nv>legend</span><span class=p>.</span><span class=nf>withDisplayMode</span><span class=p>(</span><span class=s>&#39;table&#39;</span><span class=p>)</span>
<span class=w>      </span><span class=o>+</span><span class=w> </span><span class=nv>options</span><span class=p>.</span><span class=nv>legend</span><span class=p>.</span><span class=nf>withCalcs</span><span class=p>([</span>
<span class=w>        </span><span class=s>&#39;lastNotNull&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s>&#39;max&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=p>])</span>
<span class=w>      </span><span class=o>+</span><span class=w> </span><span class=nv>custom</span><span class=p>.</span><span class=nf>withFillOpacity</span><span class=p>(</span><span class=mf>10</span><span class=p>)</span>
<span class=w>      </span><span class=o>+</span><span class=w> </span><span class=nv>custom</span><span class=p>.</span><span class=nf>withShowPoints</span><span class=p>(</span><span class=s>&#39;never&#39;</span><span class=p>),</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>The 'GC Duration Mean' panel extends the <code>base</code> panel to display the duration in seconds on a logarithmic scale. The <code>cpuUsage</code> panel is a shortcut to <code>seconds</code> panel.</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nv>timeseries</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nf>seconds</span><span class=p>(</span><span class=nv>title</span><span class=p>,</span><span class=w> </span><span class=nv>targets</span><span class=p>):</span>
<span class=w>      </span><span class=k>self</span><span class=p>.</span><span class=nf>base</span><span class=p>(</span><span class=nv>title</span><span class=p>,</span><span class=w> </span><span class=nv>targets</span><span class=p>)</span>
<span class=w>      </span><span class=o>+</span><span class=w> </span><span class=nv>timeSeries</span><span class=p>.</span><span class=nv>standardOptions</span><span class=p>.</span><span class=nf>withUnit</span><span class=p>(</span><span class=s>&#39;s&#39;</span><span class=p>)</span>
<span class=w>      </span><span class=o>+</span><span class=w> </span><span class=nv>custom</span><span class=p>.</span><span class=nv>scaleDistribution</span><span class=p>.</span><span class=nf>withType</span><span class=p>(</span><span class=s>&#39;log&#39;</span><span class=p>)</span>
<span class=w>      </span><span class=o>+</span><span class=w> </span><span class=nv>custom</span><span class=p>.</span><span class=nv>scaleDistribution</span><span class=p>.</span><span class=nf>withLog</span><span class=p>(</span><span class=mf>10</span><span class=p>),</span>

<span class=w>    </span><span class=nv>cpuUsage</span><span class=p>:</span><span class=w> </span><span class=k>self</span><span class=p>.</span><span class=nv>seconds</span><span class=p>,</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h3 id=rows-and-grid>Rows and Grid</h3> <p>Rows can be used to group panels and optionally collapse them, however using them within Jsonnet can be quite cumbersome. For example: all panels added after a row in the panel array will inevitably become part of the row, also the order in the array doesn't necessarily apply with how Grafana displays them. The <code>makeGrid</code> util function attempts to aid with this.</p> <p>First the panels are consistently added to the rows so that the intention is clear from a Jsonnet perspective.</p> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=nv>row</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s>&#39;Process&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>row</span><span class=p>.</span><span class=nf>withPanels</span><span class=p>([</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>cpuUsage</span><span class=p>(</span><span class=s>&#39;CPU Usage&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>cpuUsage</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>memoryUsage</span><span class=p>(</span><span class=s>&#39;Memory Usage&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>memUsage</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>base</span><span class=p>(</span><span class=s>&#39;Goroutines&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>goroutines</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>base</span><span class=p>(</span><span class=s>&#39;Threads&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>threads</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>seconds</span><span class=p>(</span><span class=s>&#39;GC Duration Mean&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>gcDuration</span><span class=p>),</span>
<span class=w>    </span><span class=p>])</span><span class=err>,</span>
</code></pre></div> <p>Second the panel array gets processed by <code>makeGrid</code> before added it to the dashboard.</p> <div class=highlight><pre><span></span><code><span class=o>+</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>dashboard</span><span class=p>.</span><span class=nf>withPanels</span><span class=p>(</span>
<span class=w>  </span><span class=nv>g</span><span class=p>.</span><span class=nv>util</span><span class=p>.</span><span class=nv>grid</span><span class=p>.</span><span class=nf>makeGrid</span><span class=p>([</span>
<span class=w>    </span><span class=nv>row</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s>&#39;Process&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>row</span><span class=p>.</span><span class=nf>withPanels</span><span class=p>([</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>cpuUsage</span><span class=p>(</span><span class=s>&#39;CPU Usage&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>cpuUsage</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>memoryUsage</span><span class=p>(</span><span class=s>&#39;Memory Usage&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>memUsage</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>base</span><span class=p>(</span><span class=s>&#39;Goroutines&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>goroutines</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>base</span><span class=p>(</span><span class=s>&#39;Threads&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>threads</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>seconds</span><span class=p>(</span><span class=s>&#39;GC Duration Mean&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>gcDuration</span><span class=p>),</span>
<span class=w>    </span><span class=p>]),</span>
<span class=w>    </span><span class=nv>row</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s>&#39;Kubernetes Client&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>row</span><span class=p>.</span><span class=nf>withCollapsed</span><span class=p>(</span><span class=k>true</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>row</span><span class=p>.</span><span class=nf>withPanels</span><span class=p>([</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>heatmap</span><span class=p>.</span><span class=nf>base</span><span class=p>(</span><span class=s>&#39;Workqueue Waiting Duration Over Time&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>wqDurationOverTime</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>durationQuantile</span><span class=p>(</span><span class=s>&#39;Workqueue Waiting Duration Quantile&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>wqDurationQuantile</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>short</span><span class=p>(</span><span class=s>&#39;Workqueue Depth&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>wqDepth</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>short</span><span class=p>(</span><span class=s>&#39;Failed Requests&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>failedRequests</span><span class=p>),</span>
<span class=w>    </span><span class=p>]),</span>
<span class=w>    </span><span class=nv>row</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s>&#39;Controller Runtime&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>row</span><span class=p>.</span><span class=nf>withCollapsed</span><span class=p>(</span><span class=k>true</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>row</span><span class=p>.</span><span class=nf>withPanels</span><span class=p>([</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>heatmap</span><span class=p>.</span><span class=nf>base</span><span class=p>(</span><span class=s>&#39;Reconciling Latency Over Time&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>reconcilingLatencyOverTime</span><span class=p>),</span>
<span class=w>      </span><span class=nv>panels</span><span class=p>.</span><span class=nv>timeSeries</span><span class=p>.</span><span class=nf>durationQuantile</span><span class=p>(</span><span class=s>&#39;Reconciling Latency Quantile&#39;</span><span class=p>,</span><span class=w> </span><span class=nv>queries</span><span class=p>.</span><span class=nv>reconcilingDurationQuantile</span><span class=p>),</span>
<span class=w>    </span><span class=p>]),</span>
<span class=w>  </span><span class=p>],</span><span class=w> </span><span class=nv>panelWidth</span><span class=o>=</span><span class=mf>8</span><span class=p>)</span>
<span class=p>)</span>
</code></pre></div> <h2 id=queries>Queries</h2> <p>The queries are defined as separate objects. This allows us to swap out the Prometheus queries for Graphite queries while not having to change the dashboard. Additionally this makes it possible to reuse the queries on different panels or even in different dashboards.</p> <p>Let's take a look at a query definition. The <code>cpuUsage</code> is an instance of a <code>prometheusQuery</code>. Note that the query definition leans heavily on the variables, making the datasource configurable and using variables in the query expression, setting values for the cluster, namespace and job labels. Finally this configures a <code>legendFormat</code>, telling Grafana which values to show in the legend.</p> <div class=highlight><pre><span></span><code><span class=c1>// from queries.libsonnet</span>
<span class=k>local</span><span class=w> </span><span class=nv>g</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>import</span><span class=w> </span><span class=s>&#39;./g.libsonnet&#39;</span><span class=p>;</span>
<span class=k>local</span><span class=w> </span><span class=nv>prometheusQuery</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nv>prometheus</span><span class=p>;</span>

<span class=k>local</span><span class=w> </span><span class=nv>variables</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>import</span><span class=w> </span><span class=s>&#39;./variables.libsonnet&#39;</span><span class=p>;</span>

<span class=p>{</span>
<span class=w>  </span><span class=nv>cpuUsage</span><span class=p>:</span>
<span class=w>    </span><span class=nv>prometheusQuery</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span>
<span class=w>      </span><span class=s>&#39;$&#39;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nv>variables</span><span class=p>.</span><span class=nv>datasource</span><span class=p>.</span><span class=nv>name</span><span class=p>,</span>
<span class=w>      </span><span class=s>|||</span>
<span class=s>        sum by (cluster, namespace, job) (</span>
<span class=s>            rate(</span>
<span class=s>                process_cpu_seconds_total{</span>
<span class=s>                    cluster=~&quot;$cluster&quot;,</span>
<span class=s>                    namespace=~&quot;$namespace&quot;,</span>
<span class=s>                    job=~&quot;$job&quot;</span>
<span class=s>                }</span>
<span class=s>            [$__rate_interval])</span>
<span class=s>        )</span>
<span class=s>      |||</span>
<span class=s>    )</span>
<span class=s>    + prometheusQuery.withIntervalFactor(2)</span>
<span class=s>    + prometheusQuery.withLegendFormat(|||</span>
<span class=s>      {{cluster}} - {{namespace}}</span>
<span class=s>    |||</span><span class=p>),</span>
<span class=p>}</span>
</code></pre></div> <h2 id=variables>Variables</h2> <p>To make this dashboard dynamic, it uses variables. This allows the user to select and manipulate the data being displayed.</p> <p>In this case there is a single 'datasource' variable and several 'query' variables. The 'query' variables depend on the datasource variable and then cascadingly depend on each other. This means that the values of for example <code>namespace</code> depend on the values from <code>datasource</code> and <code>cluster</code>.</p> <div class=highlight><pre><span></span><code><span class=c1>// variables.libsonnet</span>
<span class=k>local</span><span class=w> </span><span class=nv>g</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>import</span><span class=w> </span><span class=s>&#39;./g.libsonnet&#39;</span><span class=p>;</span>
<span class=k>local</span><span class=w> </span><span class=nv>var</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nv>g</span><span class=p>.</span><span class=nv>dashboard</span><span class=p>.</span><span class=nv>variable</span><span class=p>;</span>

<span class=p>{</span>
<span class=w>  </span><span class=nv>datasource</span><span class=p>:</span>
<span class=w>    </span><span class=nv>var</span><span class=p>.</span><span class=nv>datasource</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s>&#39;datasource&#39;</span><span class=p>,</span><span class=w> </span><span class=s>&#39;prometheus&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>datasource</span><span class=p>.</span><span class=nf>withRegex</span><span class=p>(</span><span class=s>&#39;(ops|dev)-cortex&#39;</span><span class=p>),</span>

<span class=w>  </span><span class=nv>cluster</span><span class=p>:</span>
<span class=w>    </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s>&#39;cluster&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nf>withDatasourceFromVariable</span><span class=p>(</span><span class=k>self</span><span class=p>.</span><span class=nv>datasource</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nv>queryTypes</span><span class=p>.</span><span class=nf>withLabelValues</span><span class=p>(</span>
<span class=w>      </span><span class=s>&#39;cluster&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=s>&#39;process_cpu_seconds_total&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nf>withRefresh</span><span class=p>(</span><span class=s>&#39;time&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nv>selectionOptions</span><span class=p>.</span><span class=nf>withMulti</span><span class=p>()</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nv>selectionOptions</span><span class=p>.</span><span class=nf>withIncludeAll</span><span class=p>(),</span>

<span class=w>  </span><span class=nv>namespace</span><span class=p>:</span>
<span class=w>    </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s>&#39;namespace&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nf>withDatasourceFromVariable</span><span class=p>(</span><span class=k>self</span><span class=p>.</span><span class=nv>datasource</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nv>queryTypes</span><span class=p>.</span><span class=nf>withLabelValues</span><span class=p>(</span>
<span class=w>      </span><span class=s>&#39;namespace&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=s>&#39;process_cpu_seconds_total{cluster=~&quot;$%s&quot;}&#39;</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=k>self</span><span class=p>.</span><span class=nv>cluster</span><span class=p>.</span><span class=nv>name</span><span class=p>,</span>
<span class=w>    </span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nf>withRefresh</span><span class=p>(</span><span class=s>&#39;time&#39;</span><span class=p>),</span>

<span class=w>  </span><span class=nv>job</span><span class=p>:</span>
<span class=w>    </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s>&#39;job&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nf>withDatasourceFromVariable</span><span class=p>(</span><span class=k>self</span><span class=p>.</span><span class=nv>datasource</span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nv>queryTypes</span><span class=p>.</span><span class=nf>withLabelValues</span><span class=p>(</span>
<span class=w>      </span><span class=s>&#39;job&#39;</span><span class=p>,</span>
<span class=w>      </span><span class=s>&#39;process_cpu_seconds_total{cluster=~&quot;$%s&quot;, namespace=~&quot;$%s&quot;}&#39;</span>
<span class=w>      </span><span class=o>%</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=k>self</span><span class=p>.</span><span class=nv>cluster</span><span class=p>.</span><span class=nv>name</span><span class=p>,</span>
<span class=w>        </span><span class=k>self</span><span class=p>.</span><span class=nv>namespace</span><span class=p>.</span><span class=nv>name</span><span class=p>,</span>
<span class=w>      </span><span class=p>],</span>
<span class=w>    </span><span class=p>)</span>
<span class=w>    </span><span class=o>+</span><span class=w> </span><span class=nv>var</span><span class=p>.</span><span class=nv>query</span><span class=p>.</span><span class=nf>withRefresh</span><span class=p>(</span><span class=s>&#39;time&#39;</span><span class=p>),</span>
<span class=p>}</span>
</code></pre></div> <p>The full controller runtime dashboard example can be <a href=https://github.com/grafana/grafonnet/blob/master/examples/runtimeDashboard>found in the repo</a>.</p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.tabs", "navigation.indexes"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.b425cdc4.min.js></script> </body> </html>